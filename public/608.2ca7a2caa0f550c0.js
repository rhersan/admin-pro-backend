"use strict";(self.webpackChunkadminpro=self.webpackChunkadminpro||[]).push([[608],{608:(k,f,s)=>{s.r(f),s.d(f,{AuthRoutingModule:()=>l});var e=s(8256),a=s(4433);class g{}g.\u0275fac=function(o){return new(o||g)},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-auth"]],decls:1,vars:0,template:function(o,r){1&o&&e._UZ(0,"router-outlet")},dependencies:[a.lC],encapsulation:2});var t=s(433),h=s(5226),u=s.n(h),b=s(5763);const v=["googleBtn"];class c{constructor(o,r,n,d){this.router=o,this.fb=r,this._usuarioService=n,this.ngZone=d,this.formSubmited=!1,this.loginForm=this.fb.group({email:[localStorage.getItem("email")||"",[t.kI.required,t.kI.email]],password:["",t.kI.required],remember:[!1]})}ngAfterViewInit(){this.googleInit()}login(){this._usuarioService.login(this.loginForm.value).subscribe({next:o=>{this.loginForm.get("remember")?.value?localStorage.setItem("email",this.loginForm.get("email")?.value):localStorage.removeItem("email"),this.ngZone.run(()=>{this.router.navigateByUrl("/dashboard")})},error:o=>{u().fire("Error",o.error.msg,"error")}})}googleInit(){google.accounts.id.initialize({client_id:"14725285314-sjtueidoev71ie5htanqb4kp4143gdf2.apps.googleusercontent.com",callback:o=>this.handleCredentialResponse(o)}),google.accounts.id.renderButton(this.googleBtn.nativeElement,{theme:"outline",size:"large"})}handleCredentialResponse(o){console.log("token-google",o.credential),this._usuarioService.loginGoogle(o.credential).subscribe({next:r=>{r.ok&&this.ngZone.run(()=>{this.router.navigateByUrl("/dashboard")})},error:r=>{u().fire("Error",r.error.msg,"error")}})}}c.\u0275fac=function(o){return new(o||c)(e.Y36(a.F0),e.Y36(t.qu),e.Y36(b.i),e.Y36(e.R0b))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-login"]],viewQuery:function(o,r){if(1&o&&e.Gf(v,5),2&o){let n;e.iGM(n=e.CRH())&&(r.googleBtn=n.first)}},decls:52,vars:1,consts:[["id","wrapper",1,"login-register","login-sidebar",2,"background-image","url(../assets/images/background/login-register.jpg)"],[1,"login-box","card"],[1,"card-body"],["autocomplete","off","id","loginform",1,"form-horizontal","form-material",3,"formGroup","ngSubmit"],["href","javascript:void(0)",1,"text-center","db"],["src","../assets/images/logo-icon.png","alt","Home"],["src","../assets/images/logo-text.png","alt","Home"],[1,"form-group","m-t-40"],[1,"col-xs-12"],["type","email","placeholder","Usuario","formControlName","email",1,"form-control"],[1,"form-group"],["type","password","placeholder","Contrase\xf1a","formControlName","password",1,"form-control"],[1,"form-group","row"],[1,"col-md-12"],[1,"checkbox","checkbox-primary","pull-left","p-t-0"],["id","checkbox-signup","type","checkbox","formControlName","remember",1,"filled-in","chk-col-light-blue"],["for","checkbox-signup"],["href","javascript:void(0)","id","to-recover",1,"text-dark","pull-right"],[1,"fa","fa-lock","m-r-5"],[1,"form-group","text-center","m-t-20"],["type","submit",1,"btn","btn-info","btn-lg","btn-block","text-uppercase","btn-rounded"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","m-t-10","text-center"],[1,"social"],["id","buttonDiv",1,"btn"],["googleBtn",""],[1,"form-group","m-b-0"],[1,"col-sm-12","text-center"],["routerLink","/auth/register",1,"text-primary","m-l-5"],["id","recoverform","action","index.html",1,"form-horizontal"],[1,"text-muted"],["type","text","required","","placeholder","Email",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block","text-uppercase","waves-effect","waves-light"]],template:function(o,r){1&o&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"form",3),e.NdJ("ngSubmit",function(){return r.login()}),e.TgZ(4,"a",4),e._UZ(5,"img",5)(6,"br")(7,"img",6),e.qZA(),e.TgZ(8,"div",7)(9,"div",8),e._UZ(10,"input",9),e.qZA()(),e.TgZ(11,"div",10)(12,"div",8),e._UZ(13,"input",11),e.qZA()(),e.TgZ(14,"div",12)(15,"div",13)(16,"div",14),e._UZ(17,"input",15),e.TgZ(18,"label",16),e._uU(19," Recordar contrase\xf1a "),e.qZA()(),e.TgZ(20,"a",17),e._UZ(21,"i",18),e._uU(22," Olvide mi contrase\xf1a?"),e.qZA()()(),e.TgZ(23,"div",19)(24,"div",8)(25,"button",20),e._uU(26," INICIAR SESI\xd3N "),e.qZA()()(),e.TgZ(27,"div",21)(28,"div",22)(29,"div",23),e._UZ(30,"div",24,25),e.qZA()()(),e.TgZ(32,"div",26)(33,"div",27),e._uU(34," No tienes una cuenta? "),e.TgZ(35,"a",28)(36,"b"),e._uU(37," Registrarse "),e.qZA()()()()(),e.TgZ(38,"form",29)(39,"div",10)(40,"div",8)(41,"h3"),e._uU(42,"Recuperar contrase\xf1a"),e.qZA(),e.TgZ(43,"p",30),e._uU(44,"Enter your Email and instructions will be sent to you! "),e.qZA()()(),e.TgZ(45,"div",10)(46,"div",8),e._UZ(47,"input",31),e.qZA()(),e.TgZ(48,"div",19)(49,"div",8)(50,"button",32),e._uU(51,"Reset"),e.qZA()()()()()()()),2&o&&(e.xp6(3),e.Q6J("formGroup",r.loginForm))},dependencies:[a.rH,t._Y,t.Fj,t.Wl,t.JJ,t.JL,t.F,t.sg,t.u],styles:[".login-register[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:center center;height:100%;width:100%;padding:10% 0;position:fixed}.login-box[_ngcontent-%COMP%]{width:400px;margin:0 auto}.login-box[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{width:100%;left:0;right:0}.login-box[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]{display:block;margin-bottom:30px}#recoverform[_ngcontent-%COMP%]{display:none}.login-sidebar[_ngcontent-%COMP%]{padding:0;margin-top:0}.login-sidebar[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]{right:0;position:absolute;height:100%}"]});var Z=s(6895);function C(i,o){1&i&&(e.TgZ(0,"p"),e._uU(1,"* El nombre es Obligatorio"),e.qZA())}function x(i,o){1&i&&(e.TgZ(0,"p"),e._uU(1,"* El email es Obligatorio"),e.qZA())}function _(i,o){1&i&&(e.TgZ(0,"p"),e._uU(1,"* Las contrase\xf1as deben de ser iguales"),e.qZA())}function T(i,o){1&i&&(e.TgZ(0,"p"),e._uU(1,"* Debe aceptar los t\xe9rminos de uso"),e.qZA())}class m{constructor(o,r,n){this.fb=o,this._usuarioService=r,this.router=n,this.formSubmitted=!1,this.registerForm=this.fb.group({nombre:["ricardo",[t.kI.required,t.kI.minLength(3)]],email:["test@dev.com",[t.kI.required,t.kI.email]],password:["1234",t.kI.required],password2:["1234",t.kI.required],terminos:[!0,t.kI.requiredTrue]},{validators:this.passwordsIguales("password","password2")})}crearUsuario(){this.formSubmitted=!0,this.registerForm.invalid?console.log("Formulario no es correcto..."):this._usuarioService.crearUsuario(this.registerForm.value).subscribe({next:o=>{console.log("usuario creado"),console.log(o),this.router.navigateByUrl("/dashboard")},error:o=>{u().fire("Error",o.error.msg,"error")}})}campoNoValido(o){return!(!this.registerForm.get(o)?.invalid||!this.formSubmitted)}aceptaTerminos(){return!this.registerForm.get("terminos")?.value&&this.formSubmitted}constrasenaNoValidas(){const o=this.registerForm.get("password")?.value,r=this.registerForm.get("password2")?.value;return!(o===r||!this.formSubmitted)}passwordsIguales(o,r){return n=>{const d=n.get(o),p=n.get(r);p?.setErrors(d?.value===p?.value?null:{noEsIgual:!0})}}}m.\u0275fac=function(o){return new(o||m)(e.Y36(t.qu),e.Y36(b.i),e.Y36(a.F0))},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-register"]],decls:49,vars:5,consts:[["id","wrapper",1,"login-register","login-sidebar",2,"background-image","url(../assets/images/background/login-register.jpg)"],[1,"login-box","card"],[1,"card-body"],["id","loginform","autocomplete","off",1,"form-horizontal","form-material",3,"formGroup","ngSubmit"],["href","javascript:void(0)",1,"text-center","db"],["src","../assets/images/logo-icon.png","alt","Home"],["src","./assets/images/logo-text.png","alt","Home"],[1,"box-title","m-t-40","m-b-0"],[1,"form-group","m-t-20"],[1,"col-xs-12"],["type","text","placeholder","Nombre","formControlName","nombre",1,"form-control"],[1,"form-group"],["type","text","placeholder","Email","formControlName","email",1,"form-control"],["type","password","placeholder","Contrase\xf1a","formControlName","password",1,"form-control"],["type","password","placeholder","Confirmar contrase\xf1a","formControlName","password2",1,"form-control"],[1,"form-group","row"],[1,"col-md-12"],[1,"checkbox","checkbox-primary","p-t-0"],["id","checkbox-signup","type","checkbox","formControlName","terminos"],["for","checkbox-signup"],["href","#"],[1,"row"],[1,"col","text-danger"],[4,"ngIf"],[1,"form-group","text-center","m-t-20"],["type","submit",1,"btn","btn-info","btn-lg","btn-block","text-uppercase","waves-effect","waves-light"],[1,"form-group","m-b-0"],[1,"col-sm-12","text-center"],["routerLink","/auth/login",1,"text-info","m-l-5"]],template:function(o,r){1&o&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"form",3),e.NdJ("ngSubmit",function(){return r.crearUsuario()}),e.TgZ(4,"a",4),e._UZ(5,"img",5)(6,"br")(7,"img",6),e.qZA(),e.TgZ(8,"h3",7),e._uU(9,"Register Now"),e.qZA(),e.TgZ(10,"small"),e._uU(11,"Create your account and enjoy"),e.qZA(),e.TgZ(12,"div",8)(13,"div",9),e._UZ(14,"input",10),e.qZA()(),e.TgZ(15,"div",11)(16,"div",9),e._UZ(17,"input",12),e.qZA()(),e.TgZ(18,"div",11)(19,"div",9),e._UZ(20,"input",13),e.qZA()(),e.TgZ(21,"div",11)(22,"div",9),e._UZ(23,"input",14),e.qZA()(),e.TgZ(24,"div",15)(25,"div",16)(26,"div",17),e._UZ(27,"input",18),e.TgZ(28,"label",19),e._uU(29," Acepto todos los "),e.TgZ(30,"a",20),e._uU(31,"terminos"),e.qZA()()()()(),e.TgZ(32,"div",21)(33,"div",22),e.YNc(34,C,2,0,"p",23),e.YNc(35,x,2,0,"p",23),e.YNc(36,_,2,0,"p",23),e.YNc(37,T,2,0,"p",23),e.qZA()(),e.TgZ(38,"div",24)(39,"div",9)(40,"button",25),e._uU(41,"REGISTRAR"),e.qZA()()(),e.TgZ(42,"div",26)(43,"div",27)(44,"p"),e._uU(45,"Ya tienes una cuenta? "),e.TgZ(46,"a",28)(47,"b"),e._uU(48,"Iniciar Sesi\xf3n"),e.qZA()()()()()()()()()),2&o&&(e.xp6(3),e.Q6J("formGroup",r.registerForm),e.xp6(31),e.Q6J("ngIf",r.campoNoValido("nombre")),e.xp6(1),e.Q6J("ngIf",r.campoNoValido("email")),e.xp6(1),e.Q6J("ngIf",r.constrasenaNoValidas()),e.xp6(1),e.Q6J("ngIf",r.aceptaTerminos()))},dependencies:[Z.O5,a.rH,t._Y,t.Fj,t.Wl,t.JJ,t.JL,t.sg,t.u],styles:[".login-register[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:center center;height:100%;width:100%;padding:10% 0;position:fixed}.login-box[_ngcontent-%COMP%]{width:400px;margin:0 auto}.login-box[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{width:100%;left:0;right:0}.login-box[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]{display:block;margin-bottom:30px}#recoverform[_ngcontent-%COMP%]{display:none}.login-sidebar[_ngcontent-%COMP%]{padding:0;margin-top:0}.login-sidebar[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]{right:0;position:absolute;height:100%}"]});const y=[{path:"",component:g,children:[{path:"login",component:c},{path:"register",component:m}]}];class l{}l.\u0275fac=function(o){return new(o||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[a.Bz.forChild(y),a.Bz]})}}]);